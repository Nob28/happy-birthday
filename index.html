
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday</title>
  <style>
    /* تنسيق خلفية الصفحة */
    body {
      margin: 0;
      padding: 0;
      background: #000; /* خلفية سوداء */
      overflow: hidden; /* إخفاء الشريط عند تحريك القصاصات */
      font-family: sans-serif;
    }

    /* تنسيق النص */
    .message {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #fff;
      font-size: 2em;
      user-select: none;
    }
    .message .main {
      font-size: 3em;
      font-weight: bold;
      letter-spacing: 0.1em;
      margin-bottom: 0.5em;
    }
  </style>
</head>
<body>
  <!-- نص التهنئة -->
  <div class="message">
    <div class="main">H A P P Y  B I R T H D A Y!</div>
    <div>to you</div>
  </div>

  <!-- عنصر الرسم الخاص بالقصاصات -->
  <canvas id="confettiCanvas"></canvas>

  <!-- كود الجافاسكربت في نفس الملف -->
  <script>
    (function() {
      const canvas = document.getElementById('confettiCanvas');
      const ctx = canvas.getContext('2d');

      // تغيير حجم الـcanvas ليطابق حجم النافذة
      let W = window.innerWidth;
      let H = window.innerHeight;
      canvas.width = W;
      canvas.height = H;

      // عند تغيير حجم الشاشة
      window.addEventListener('resize', () => {
        W = window.innerWidth;
        H = window.innerHeight;
        canvas.width = W;
        canvas.height = H;
      });

      // عدد قصاصات الورق
      const confettiCount = 250;

      // مصفوفة لتخزين قصاصات الورق
      let confettis = [];

      // ألوان مختلفة للقصاصات
      const colors = [
        '#f94144',
        '#f3722c',
        '#f8961e',
        '#f9844a',
        '#f9c74f',
        '#90be6d',
        '#43aa8b',
        '#4d908e',
        '#577590',
        '#277da1'
      ];

      // دالة لإنشاء قصاصة جديدة
      function createConfettiPiece() {
        return {
          x: Math.random() * W,         // الموقع الأفقي
          y: Math.random() * H - H,     // الموقع الرأسي (أعلى الشاشة)
          r: Math.floor(Math.random() * 6) + 2, // نصف القطر
          d: (Math.random() * confettiCount) + 10, // للتحكم بالسرعة
          color: colors[Math.floor(Math.random() * colors.length)],
          tilt: Math.random() * 10 - 10,
          tiltAngleIncremental: (Math.random() * 0.07) + 0.05,
          tiltAngle: 0
        };
      }

      // تهيئة جميع القصاصات
      function initConfettis() {
        confettis = [];
        for (let i = 0; i < confettiCount; i++) {
          confettis.push(createConfettiPiece());
        }
      }

      // رسم كل قصاصة
      function drawConfettiPiece(confetti) {
        ctx.beginPath();
        ctx.lineWidth = confetti.r;
        ctx.strokeStyle = confetti.color;
        // نرسم خط أفقي بسيط مع الميل (tilt)
        ctx.moveTo(confetti.x + confetti.tilt + (confetti.r / 2), confetti.y);
        ctx.lineTo(confetti.x + confetti.tilt, confetti.y + confetti.tilt + confetti.r);
        ctx.stroke();
      }

      // تحديث كل قصاصة
      function update() {
        ctx.clearRect(0, 0, W, H);

        for (let i = 0; i < confettiCount; i++) {
          let confetti = confettis[i];
          confetti.tiltAngle += confetti.tiltAngleIncremental;
          confetti.y += (Math.cos(confetti.d) + 3 + confetti.r / 2) / 2;
          confetti.x += Math.sin(confetti.d);
          confetti.tilt = Math.sin(confetti.tiltAngle - i / 3) * 15;

          // إعادة القصاصة للأعلى إذا خرجت من أسفل الصفحة
          if (confetti.y > H) {
            confettis[i] = createConfettiPiece();
            confettis[i].x = Math.random() * W;
            confettis[i].y = -10;
          }
          drawConfettiPiece(confetti);
        }

        // تحريك القصاصات باستمرار
        requestAnimationFrame(update);
      }

      // بدء التأثير
      initConfettis();
      update();
    })();
  </script>
</body>
</html>
